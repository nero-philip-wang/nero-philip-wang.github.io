(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{367:function(a,s,t){"use strict";t.r(s);var e=t(42),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"常用-docker-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用-docker-命令"}},[a._v("#")]),a._v(" 常用 Docker 命令")]),a._v(" "),t("h2",{attrs:{id:"安装docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装docker"}},[a._v("#")]),a._v(" 安装docker")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -fsSL https://get.docker.com -o get-docker.sh\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sh")]),a._v(" get-docker.sh\n")])])]),t("h2",{attrs:{id:"mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[a._v("#")]),a._v(" mysql")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker run --name mysql3306 --restart always -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MYSQL_ROOT_PASSWORD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("password -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3306")]),a._v(":3306 -v /home/mysql:/var/lib/mysql -d mysql:5.6 --character-set-server"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8mb4 --collation-server"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8mb4_unicode_ci\n")])])]),t("h2",{attrs:{id:"mssql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mssql"}},[a._v("#")]),a._v(" mssql")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker run -e "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'ACCEPT_EULA=Y'")]),a._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'SA_PASSWORD=nopw12@@'")]),a._v(" -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1433")]),a._v(":1433  --name mssql -d --restart"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always  -v  /srv/sqlserver/bak:/public/sqlserver/bak -v /srv/sqlserver/data:/public/sqlserver/data  mcr.microsoft.com/mssql/server:2017-latest\n\ndocker run -e "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'ACCEPT_EULA=Y'")]),a._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'SA_PASSWORD=password'")]),a._v(" -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1433")]),a._v(":1433 -v /home/mssql:/var/opt/mssql --restart always -d microsoft/mssql-server-linux:2017-latest\n")])])]),t("h2",{attrs:{id:"pgsql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pgsql"}},[a._v("#")]),a._v(" pgsql")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker run -d --name pgsql --restart"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5432")]),a._v(":5432 -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("POSTGRES_PASSWORD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("nopw12@@ -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PGDATA")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/var/lib/postgresql/data/pgdata -v /srv/postgresql:/var/lib/postgresql/data postgres:14.8\n")])])]),t("h2",{attrs:{id:"redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[a._v("#")]),a._v(" redis")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker run -d --name myredis -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6379")]),a._v(":6379 redis --requirepass "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"mypassword"')]),a._v("\n")])])]),t("h2",{attrs:{id:"rabbitmq"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rabbitmq"}},[a._v("#")]),a._v(" rabbitmq")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker run -d --name myrabbitmq -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5673")]),a._v(":5672 -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15673")]),a._v(":15672 -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("RABBITMQ_DEFAULT_USER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("user -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("RABBITMQ_DEFAULT_PASS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("password rabbitmq:3.7.7-management\n")])])]),t("blockquote",[t("p",[a._v("client 端通信口 5672 管理口 15672 server 间内部通信口 25672 erlang 发现口：4369")])]),a._v(" "),t("h2",{attrs:{id:"gitlab"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gitlab"}},[a._v("#")]),a._v(" gitlab")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker run -d --hostname gitlab --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4443")]),a._v(":443 --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4040")]),a._v(":80 --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4022")]),a._v(":22 --name gitlab --restart always --volume /d/VM/Docker/Gitlab/data:/var/opt/gitlab gitlab/gitlab-ce\n\ndocker run --detach --hostname my.gitlab.com --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("443")]),a._v(":443 --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(":80 --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("22")]),a._v(":22 --name gitlab --restart always --volume /srv/gitlab/config:/etc/gitlab --volume /srv/gitlab/logs:/var/log/gitlab --volume /srv/gitlab/data:/var/opt/gitlab gitlab/gitlab-ce:latest\n\ndocker run --detach --hostname my.gitlab.com --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8443")]),a._v(":443 --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(":80 --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("22")]),a._v(":22 --name gitlab-cn --restart always twang2218/gitlab-ce-zh:10.6.4\n\ndocker run --detach --hostname git.bebefocus.cn --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10443")]),a._v(":443 --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10080")]),a._v(":80 --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("22")]),a._v(":22 --name gitlab-cn --restart always --volume /srv/gitlab/config:/etc/gitlab --volume /srv/gitlab/logs:/var/log/gitlab --volume /srv/gitlab/data:/var/opt/gitlab -e "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'GITLAB_HOST=git.bebefocus.cn'")]),a._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'GITLAB_PORT=80'")]),a._v(" twang2218/gitlab-ce-zh:latest\n\ndocker run --detach --hostname git.chain.bebefocusmall.com --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8080")]),a._v(":80 --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("22")]),a._v(":22 --name gitlab2 --restart always --volume /home/gitlab/config:/etc/gitlab --volume /home/gitlab/logs:/var/log/gitlab --volume /home/gitlab/data:/var/opt/gitlab -e "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'GITLAB_HOST=git.chain.bebefocusmall.com'")]),a._v(" gitlab/gitlab-ce:latest\n")])])]),t("h2",{attrs:{id:"进入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进入"}},[a._v("#")]),a._v(" 进入")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -it 775c7c9ee1e1 /bin/bash\n")])])]),t("h2",{attrs:{id:"清理镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#清理镜像"}},[a._v("#")]),a._v(" 清理镜像")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker image prune -a\n")])])]),t("h2",{attrs:{id:"拷贝"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#拷贝"}},[a._v("#")]),a._v(" 拷贝")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" contain:/ /\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);